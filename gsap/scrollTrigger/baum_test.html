<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{margin:0;padding:0;}
        section{display:flex;align-items:center;justify-content:center;gap:30px;height:100vh;border:1px solid red;}
        .img-wrap{position:relative;width:300px;height:300px;overflow:hidden;}
        .img-wrap__img{position:absolute;top:-50px;left:50%;display:block;width:200%;transform:translateX(-50%);}
        .img-wrap__mask{position: absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.9);}
    </style>
</head>
<body>
    <section>1</section>
    <section id="section2">
        <div class="img-wrap">
            <img src="../../img/img1.JPG" id="main_img1" class="img-wrap__img" alt="">
            <span id="main_mask1" class="img-wrap__mask"></span>
        </div>
        <div class="text-wrap">
            <h2>test</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus repellendus reprehenderit at. Dolores ullam deserunt commodi architecto? Sunt voluptatum minima officiis itaque doloremque, ducimus laudantium sit facere, libero dolor magni!</p>
        </div>
    </section>
    <section>3</section>
    <section id="section4">
        <div class="img-wrap">
            <img src="../../img/img2.JPG" id="main_img2" class="img-wrap__img" alt="">
            <span id="main_mask2" class="img-wrap__mask"></span>
        </div>
        <div class="text-wrap">
            <h2>test</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus repellendus reprehenderit at. Dolores ullam deserunt commodi architecto? Sunt voluptatum minima officiis itaque doloremque, ducimus laudantium sit facere, libero dolor magni!</p>
        </div>
    </section>
</body>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script>
    // gsap 기본애니메이션
    const sec2 = document.querySelector("#section2");
    const main_mask = document.querySelector("#main_mask1");
    gsap.to("#main_mask1", {
        scrollTrigger :{ 
            trigger: sec2,
            scrub:1, 
            start: "top 50%",
            end:"bottom 60%",
        },
        opacity:0,
    });
    gsap.to("#main_img1", {
        scrollTrigger:{
            trigger: sec2,
            scrub:1, 
            start: "top 50%",
            end:"bottom 60%",
        },
        y:50,
    });

    const sec4 = document.querySelector("#section4");
    const mask2 = document.querySelector("#main_mask2");
    gsap.to("#main_mask2", {
        scrollTrigger :{ 
            trigger: sec4,
            scrub:1, 
            start: "top 50%",
            end:"bottom 0%"
        },
        opacity:0,
    });
    gsap.to("#main_img2", {
        scrollTrigger:{
            trigger: sec4,
            scrub:1, 
            start: "top 50%",
            end:"bottom 60%",
        },
        y:50,
    })

</script>
</html>
